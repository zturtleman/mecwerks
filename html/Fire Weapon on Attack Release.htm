<SCRIPT SRC="http://ads.gamespy.com/jserver/SITE=PQ/AREA=HOSTED/GENRE=ACTION/TIER=3/AAMSZ=PRESTITIAL?304475843"></SCRIPT><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0071)http://www.inolen.com/index.phtml?file=./programming/attackrelease.html -->
<HTML><HEAD><TITLE>www.inolen.com</TITLE>
<META content="text/html; charset=windows-1252" http-equiv=Content-Type>
<STYLE>A:link {
	COLOR: #336699; TEXT-DECORATION: none
}
A:visited {
	COLOR: #0000a0; TEXT-DECORATION: none
}
A:hover {
	COLOR: black; TEXT-DECORATION: underline
}
A:hover {
	TEXT-DECORATION: overline
}
</STYLE>

<META content="MSHTML 5.00.2614.3500" name=GENERATOR></HEAD>
<BODY bgColor=#eeeeee leftMargin=0 text=#000000 topMargin=0>
<DIV align=center>
<TABLE align=center border=0 cellPadding=0 cellSpacing=0 hspace="0" 
  vspace="0"><TBODY>
  <TR>
    <TD align=middle bgColor=#eeeeee borderColor=#000000 colSpan=2 
      vAlign=top><IMG height=150 
      src="Fire Weapon on Attack Release_files/logo.jpg" width=300> 
  </TD></TR></TBODY></TABLE>
<TABLE align=center border=1 borderColorDark=#ffffff borderColorLight=#000000 
cellPadding=0 cellSpacing=0 width="80%" hspace="0" vspace="0">
  <TBODY>
  <TR align=middle vAlign=center>
    <TD bgColor=#ffffff colSpan=2>
      <DIV align=center><FONT face=Tahoma size=1><B><A 
      href="http://www.inolen.com/index.phtml"><FONT face=Tahoma 
      size=2>Main</FONT></A>&nbsp; |&nbsp; <A 
      href="http://www.inolen.com/index.phtml?file=./maps.html"><FONT 
      face=Tahoma size=2>Maps</FONT></A><FONT face=Tahoma size=2>&nbsp; |&nbsp; 
      <A 
      href="http://www.inolen.com/index.phtml?file=./programming.html">Programming</A>&nbsp;|&nbsp;<A 
      href="http://www.inolen.com/index.phtml?file=./links.html">Links</A>&nbsp;|&nbsp; 
      <A 
      href="http://www.inolen.com/index.phtml?file=./files.html">Files</A>&nbsp;|&nbsp; 
      <A 
      href="http://www.inolen.com/index.phtml?file=./demos.html">Demos</A>&nbsp;|&nbsp; 
      <A href="http://www.inolen.com/cgi-bin/Ultimate.cgi?action=intro" 
      target=_blank>Forums</A></FONT></B></FONT> </DIV></TD></TR>
  <TR>
    <TD align=middle background="Fire Weapon on Attack Release_files/side.jpg" 
    vAlign=top width=115>
      <FORM action=http://www.inolen.com/cgi-bin/NewsPro/viewnews.cgi?search 
      method=post><INPUT name=searchstring 
      onblur="if (value == '') {value = 'Search News'}" 
      onfocus="if (value == 'Search News') {value =''}" size=13 
      style="BACKGROUND-COLOR: #ffffff; BORDER-BOTTOM: #336699 1px solid; BORDER-LEFT: #336699 1px solid; BORDER-RIGHT: #336699 1px solid; BORDER-TOP: #336699 1px solid; COLOR: #336699; FONT-FAMILY: Tahoma" 
      value="Search News"> </FORM></TD>
    <TD align=left bgColor=#ffffff vAlign=top>
      <P><FONT color=#000000 face=Tahoma size=2><B>This tut shows you how to 
      make a weapon fire when you release the attack key. Used in my mod for the 
      Sniper Rifle. In this tutorial it will be used for the railgun. It is very 
      easy and I would like to credit soWat for the majority of the 
      code.</B></FONT></P>
      <P><FONT color=#ffffff face=Tahoma size=2><B><FONT color=#000000>Open up 
      bg_public.h and find this:</FONT><BR><FONT 
      color=#ff0000>WEAPON_READY,<BR><BR><FONT color=#000000>and directly 
      beneath it add:</FONT><BR><FONT 
      color=#0000a0>WEAPON_COCKED,<BR></FONT></FONT></B></FONT><BR><FONT 
      color=#000000 face=Tahoma size=2><B>Open up bg_pmove.c and find 
      this:</B></FONT><FONT color=#ffffff face=Tahoma size=2><B><BR><FONT 
      color=#ff0000>// check for fire</FONT><FONT color=#ff0000><BR><FONT 
      color=#000000><BR>Then replace it and the function up under it with 
      this:</FONT></FONT></B></FONT><FONT color=#ffff00 face=Tahoma 
      size=2><B><BR><FONT color=#0000a0>// check for fire<BR>// if they are 
      pressing attack and their current weapon is the railgun<BR>if 
      ((pm-&gt;cmd.buttons &amp; 1) &amp;&amp; (pm-&gt;ps-&gt;weapon == 
      WP_RAILGUN)) {<BR>pm-&gt;ps-&gt;weaponTime = 0;<BR>// put it in the 
      "cocked" position<BR>pm-&gt;ps-&gt;weaponstate = 
      WEAPON_COCKED;<BR>return;<BR>}<BR>// check for fire release<BR>// if they 
      arn't pressing attack<BR>if (!(pm-&gt;cmd.buttons &amp; 1)) {<BR>// if we 
      had them cocked and then they arnt pressing it then that means they 
      released it<BR>if (pm-&gt;ps-&gt;weaponstate == WEAPON_COCKED) {<BR>// set 
      to be able to fire<BR>pm-&gt;ps-&gt;weaponstate = WEAPON_READY;<BR>} else 
      {<BR>// else if they arn't pressing attack, then they just are running 
      around<BR>pm-&gt;ps-&gt;weaponTime = 0;<BR>pm-&gt;ps-&gt;weaponstate = 
      WEAPON_READY;<BR>return;<BR>}<BR>}</FONT></B></FONT></P>
      <P><FONT color=#000000 face=Tahoma size=2><B>I spend my time programming 
      and writing these tutorials, so please feel free to use this code in your 
      mod as long as www.inolen.com and the author receive 
    credit.</B></FONT></P></TD></TR>
  <TR>
    <TD align=middle bgColor=#f9f9f9 colSpan=2 vAlign=center><FONT 
      color=#000000 face=Tahoma size=2><B>Design Copyright inolen 
    2000</B></FONT></TD></TR></TBODY></TABLE></DIV></BODY></HTML>
