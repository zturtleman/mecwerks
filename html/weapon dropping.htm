<SCRIPT SRC="http://ads.gamespy.com/jserver/SITE=PQ/AREA=HOSTED/GENRE=ACTION/TIER=3/AAMSZ=PRESTITIAL?257869578"></SCRIPT><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--INSERTADTHISPAGE -->

<html>
<head>
	<title>Code3Arena</title>
</head>

<body background="../images/bg.gif" bgcolor="#660000" text="white" link="#C05F00" vlink="#d16545">


	<!-- BEGIN BANNER AD TABLE -->
<table width="100%" border=0 cellpadding=5 cellspacing=0 align="center" background="../images/bg.gif">
  <tr>
   	 <td width=468 height=60 align="CENTER" valign="top" bgcolor=#000000>
 <center><SCRIPT SRC="http://ads.gamespy.com/jserver/SITE=PQ/AREA=HOSTED/GENRE=ACTION/TIER=3/AAMSZ=IAB_FULL_BANNER?257869578"></SCRIPT><NOSCRIPT><A HREF="http://ads.gamespy.com/cgi-bin/adclick.exe/SITE=PQ/AREA=HOSTED/GENRE=ACTION/TIER=3/AAMSZ=IAB_FULL_BANNER?257869578"><IMG SRC="http://ads.gamespy.com/cgi-bin/adserver.exe/SITE=PQ/AREA=HOSTED/GENRE=ACTION/TIER=3/AAMSZ=IAB_FULL_BANNER?257869578"></A></NOSCRIPT><!--ACCIPITERADINSERT/site=PQ/AAMSZ=IAB_FULL_BANNER/AREA=ARTICLES--></center>
</td>
  </tr>
</table>
	<!-- END BANNER AD TABLE -->

<br>

	<!-- BEGIN LOGO IMAGE TABLE -->
<table width="100%" cellspacing="0" cellpadding="0" border="1" align="center" bgcolor=#000000>
  <tr>
     <td align="CENTER">
	  <img src="/code3arena/images/logo.gif" width="500" height="137" border="0" alt="Code3Arena">
</td>
  </tr>
</table>
	<!-- END LOGO IMAGE TABLE -->
<p>

	<!-- BEGIN TOP HEIRARCHY -->
<table width="100%" cellpadding=0 cellspacing=0 border=0 bgcolor="#000000">
  <tr>
    <td><img src="/code3arena/images/ouricon.gif"></td>
    <td width="100%" bgcolor=#000000>
	<font face="Verdana, Arial" size="2" color="#eeeeee"><b>
	<A HREF="http://www.planetquake.com">PlanetQuake</A> |
	<A HREF="http://www.planetquake.com/code3arena">Code3Arena</A> |
	<A HREF="http://www.planetquake.com/code3arena/tutorials">Tutorials</A> |
	<a href="tutorial21.shtml"><< Prev</a> |
	Tutorial 22 |
	<a href="tutorial23.shtml">Next >></a>
	</b></font>
    </td>
  </tr>
</table>
<p>
	<!-- END TOP HEIRARCHY -->

	<!-- BEGIN MAIN TABLE HERE-->
<table width="100%" border=0 cellpadding=0 cellspacing=0 align=center bgcolor=#4B0202>
  <tr>

   <!-- BEGIN LEFT NAVBAR MENU -->
    <td valign=top bgcolor="#000000">
<table width=150 bgcolor="#000000" valign=top border=0 cellpadding=10 cellspacing=0 >
  <tr>
	 <td bgcolor=#000000 valign=top>
      <p>
      <a href="/code3arena/index.shtml"><img src="/code3arena/images/minilogo.gif" width="150" height="80" border="0" alt="menu"></a>
	  <p><!-- C40B02 -->
	  <font face=arial color="#C05F00" size=2>
<strong>
<LI> <a href="/code3arena/index.shtml">Home/News</a>
<LI> <a href="/code3arena/modsource.shtml">ModSource</a>
<LI> <a href="/code3arena/compilers.shtml">Compiling</a>
<LI> <a href="/code3arena/help.shtml">Help!!!</a>
<LI> <a href="/code3arena/submission.shtml">Submission</a>
<LI> <a href="/code3arena/contributors.shtml">Contributors</a>
<LI> <a href="/code3arena/staff.shtml">Staff</a>
<LI> <a href="/code3arena/downloads.shtml">Downloads</a>
</strong>
<P>

	    <img src="/code3arena/images/tutorials.gif" width="80" height="25" border="0" alt="Tutorials">
	  <font color="#C05F00" size=1>
<strong>
<BR> <a href="/code3arena/tutorials"> <  Index  ></a>
<BR> 1. <a href="/code3arena/tutorials/tutorial1.shtml">Mod making 101</a>
<BR> 2. <a href="/code3arena/tutorials/tutorial2.shtml">Up 'n running</a>
<BR> 3. <a href="/code3arena/tutorials/tutorial3.shtml">Hello, QWorld!</a>
<BR> 4. <a href="/code3arena/tutorials/tutorial4.shtml">Infinite Haste</a>
<BR> 5. <a href="/code3arena/tutorials/tutorial5.shtml">Armor Piercing Rails</a>
<BR> 6. <a href="/code3arena/tutorials/tutorial6.shtml">Bouncing Rockets</a>
<BR> 7. <a href="/code3arena/tutorials/tutorial7.shtml">Cloaking</a>
<BR> 8. <a href="/code3arena/tutorials/tutorial8.shtml">Ladders</a>
<BR> 9. <a href="/code3arena/tutorials/tutorial9.shtml">Favourite Server</a>
<BR> 10. <a href="/code3arena/tutorials/tutorial10.shtml">Flame Thrower</a>
<BR> 11. <a href="/code3arena/tutorials/tutorial11.shtml">Vortex Grenades</a>
<BR> 12. <a href="/code3arena/tutorials/tutorial12.shtml">Grapple</a>
<BR> 13. <a href="/code3arena/tutorials/tutorial13.shtml">Lightning Discharge</a>
<BR> 14. <a href="/code3arena/tutorials/tutorial14.shtml">Locational Damage</a>
<BR> 15. <a href="/code3arena/tutorials/tutorial15.shtml">Leg Shots</a>
<BR> 16. <a href="/code3arena/tutorials/tutorial16.shtml">Weapon Switching</a>
<BR> 17. <a href="/code3arena/tutorials/tutorial17.shtml">Scoreboard frag-rate</a>
<BR> 18. <a href="/code3arena/tutorials/tutorial18.shtml">Vortex Grenades II</a>
<BR> 19. <a href="/code3arena/tutorials/tutorial19.shtml">Vulnerable Missiles</a>
<BR> 20. <a href="/code3arena/tutorials/tutorial20.shtml">Creating Classes</a>
<BR> 21. <a href="/code3arena/tutorials/tutorial21.shtml">Scrolling Credits</a>
<BR> 22. <a href="/code3arena/tutorials/tutorial22.shtml">Weapon Dropping</a>
<BR> 23. <a href="/code3arena/tutorials/tutorial23.shtml">Anti-Gravity Boots</a>
<BR> 24. <a href="/code3arena/tutorials/tutorial24.shtml">HUD scoreboard</a>
<BR> 25. <a href="/code3arena/tutorials/tutorial25.shtml">Flashlight and laser</a>
<BR> 26. <a href="/code3arena/tutorials/tutorial26.shtml">Weapon Positioning</a>
<BR> 27. <a href="/code3arena/tutorials/tutorial27.shtml">Weapon Reloading</a>
<BR> 28. <a href="/code3arena/tutorials/tutorial28.shtml">Progressive Zooming</a>
<BR> 29. <a href="/code3arena/tutorials/tutorial29.shtml">Rotating Doors</a>
<BR> 30. <a href="/code3arena/tutorials/tutorial30.shtml">Beheading (headshot!)</a>
<BR> 31. <a href="/code3arena/tutorials/tutorial31.shtml">Alt Weapon Fire</a>
<BR> 32. <a href="/code3arena/tutorials/tutorial32.shtml">Popup Menus I</a>
<BR> 33. <a href="/code3arena/tutorials/tutorial33.shtml">Popup Menus II</a>
<BR> 34. <a href="/code3arena/tutorials/tutorial34.shtml">Cluster Grenades</a>
<BR> 35. <a href="/code3arena/tutorials/tutorial35.shtml">Homing Rockets</a>
<BR> 36. <a href="/code3arena/tutorials/tutorial36.shtml">Spreadfire Powerup</a>
<BR> 37. <a href="/code3arena/tutorials/tutorial37.shtml">Instagib gameplay</a>
<BR> 38. <a href="/code3arena/tutorials/tutorial38.shtml">Accelerating rockets</a>
<BR> 39. <a href="/code3arena/tutorials/tutorial39.shtml">Server only Instagib</a>
<BR> 40. <a href="/code3arena/tutorials/tutorial40.shtml">Advanced Grapple Hook</a>
<BR> 41. <a href="/code3arena/tutorials/tutorial41.shtml">Unlagging your mod</a>
</strong>
	  </font>
      <p><br>
	  
	  <img src="/code3arena/images/articles.gif" width="80" height="25" border="0" alt="Articles">
	  <font color="#C05F00" size=1>
<strong>
<BR> <a href="/code3arena/articles"> <  Index  > </a>
<BR> 1. <a href="/code3arena/articles/article1.shtml">Entities</A>
<BR> 2. <a href="/code3arena/articles/article2.shtml">Vectors</A>
<BR> 3. <a href="/code3arena/articles/article3.shtml">Good Coding</A>
<BR> 4. <a href="/code3arena/articles/article4.shtml">Compilers I</A>
<BR> 5. <a href="/code3arena/articles/article5.shtml">Compilers II</A>
<BR> 6. <a href="/code3arena/articles/article6.shtml">UI Menu Primer I</A>
<BR> 7. <a href="/code3arena/articles/article7.shtml">UI Menu Primer II</A>
<BR> 8. <a href="/code3arena/articles/article8.shtml">UI Menu Primer III</A>
<BR> 9. <a href="/code3arena/articles/article9.shtml">QVM Communication, Cvars, commands</A>
<BR> 10. <a href="/code3arena/articles/article10.shtml">Metrowerks CodeWarrior</A>
<BR> 11. <a href="/code3arena/articles/article11.shtml">1.27g code, bugs, batch</A>
</strong>
	  </font>
	  <p>
	  <!-- <hr color="#C0C0C0">  -->
	  <br>

	  <img src="/code3arena/images/links.gif" width="80" height="25" border="0" alt="Links">
	  <font color="#C05F00">
	  <small>
<li><a href="http://www.planetquake.com/quake3/files.shtml">Quake3 Files</a>
<li><a href="http://forums.planetquake.com/">Quake3 Forums</a>
<li><a href="http://dynamic.gamespy.com/~assim2/wwwshow.cgi?board=quake3">Q3A Editing Message Board</a>
<li><a href="http://www.planetquake.com/quake3/hosted/editing.shtml">Quake3 Editing</a>
	  </small>
	  </font>
	  <p><br>
	  
	  <img src="/code3arena/images/feedback.gif" width="80" height="25" border="0" alt="Feedback">
	  <font color="#C05F00">
	  <small>
<li><a href="mailto:sumfuka@planetquake.com">SumFuka</A>
<li><a href="mailto:calrathan@captured.com">Calrathan</A>
<li><a href="mailto:hypothermia@planetquake.com">
	<font color="#FF0000">H</font><font color="#FFFF00">y</font><font
	color="#CC33CC">p</font><font color="#3333FF">o</font>Thermia
	</A>
<li><a href="mailto:warzone@planetquake.com">WarZone</A>
	  </small>
	  </font>
	  <p><br>
	  
	  <img src="/counter/count.exe?ft=3&df=code3arena.dat&dd=D">
	   <p><br><br><br>
	  <small>Site Design by:</small>
	  <br>
	  <a href="mailto:ladyice@planetice.org,jeh@planetjeh.com"><img src="/code3arena/images/icelogo_sm.jpg" width="88" height="31" border="0" align="middle" alt="ICEmosis Design"></a>
	
	  </font>
	  <br><br>
    </td>

  </tr>
</table>
    </td>
	<!-- END LEFT NAVBAR MENU -->
	<!-- BEGIN DIVIDER -->
	<td valign=top background="../images/bg.gif">
<table width=20 cellpadding=0 cellspacing=0 border=0 background="../images/bg.gif">
  <tr>
	<td background="../images/bg.gif">
	  &nbsp;
	</td>
  </tr>
</table>
	</td>
    <!-- END DIVIDER -->


	<!-- MAIN TEXT AREA -->
	<td valign=top bgcolor=#000000>
<table width="100%" cellpadding=15 cellspacing=10 border=0 bgcolor=#000000 valign=top>
  <tr>
	<td valign=top>
<font face="Verdana, Arial" size="2" color="#eeeeee">


<center><b><font color="#C05F00" size=5>
TUTORIAL 22 - Weapon dropping
</font></b><br>by <b><a href="mailto:paranoid@planetstealth.de">[SuB]paranoid</A></b></center><p>

Some of the most played mods on the Internet are team based.
The goal is to eliminate the enemy and help your teammates to accomplish your mission objectives.
Teamplay is all about strategy and tactics and there's a well
known feature from Quake II (missing in Quake 3) that increases 
this even more: the ability to drop weapons.
<P>Let's get started.

<font color="#E07F44"><h4>
1. Files we will be modifying from the game source code:
</H3></font>

<p>Source files edited:

<ul>
<li>g_local.h</li>
<li>g_active.c</li>
<li>g_items.c</li>
<li>g_cmds.c</li>
<li>cg_consolecmds.c - adding function declarations and an entity flag </li>
</ul>

<p>Functions added/modified:

<ul>
<li> adding ThrowWeapon()</li>
<li> adding dropWeapon(), modifying LaunchItem()</li>
<li> adding the "drop" command</li>
<li> registering the "drop" command (optional)</li>
</ul>

<font color="#E07F44"><h4>
2. Changing the Q3 code
</H4></font>

<p> You may experience some problems with copying text from html files so I provided
<A HREF="tut22funcs.txt">a textfile with the main functions</a>.

<font color="#E07F44"><H4>
2.1 g_local.h about line 33
</H4></font>

<p>Open g_local.h and add this line to the gentity->flags definitions:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre><font color="#ff6060">#define FL_THROWN_ITEM		0x00008000  // XRAY FMJ weapon throwing
</font>
</pre></font>

This defines a new flag we will use to identify dropped items.
Add these two lines at 360:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre><font color="#ff6060">void ThrowWeapon( gentity_t *ent );
gentity_t *dropWeapon( gentity_t *ent, gitem_t *item, float angle, int xr_flags );  // XRAY FMJ
</font>
</pre></font>

<p>This declarates our two new functions. We are done with this file so you can save and close g_local.h now.

<font color="#E07F44"><H4>
2.2 g_active.c, about line 518
</H4></font>

<p>Now open g_active.c and paste the function ThrowWeapon() before this line:

<font face="Verdana, Arial" size="3" color="#ffffcc"><pre>
void BotTestSolid(vec3_t origin);
<font color="#ff6060">
/*
=============
ThrowWeapon

XRAY FMJ
=============
*/

void ThrowWeapon( gentity_t *ent )
{
	gclient_t	*client;
	usercmd_t	*ucmd;
	gitem_t		*xr_item;
	gentity_t	*xr_drop;
	byte i;
	int amount;

	client = ent->client;
	ucmd = &ent->client->pers.cmd;

	if( client->ps.weapon == WP_GAUNTLET
		|| client->ps.weapon == WP_MACHINEGUN
		|| client->ps.weapon == WP_GRAPPLING_HOOK
		|| ( ucmd->buttons & BUTTON_ATTACK ))
		return;


	xr_item = BG_FindItemForWeapon( client->ps.weapon );

	amount= client->ps.ammo[ client->ps.weapon ]; // XRAY save amount
	client->ps.ammo[ client->ps.weapon ] = 0;

	client->ps.stats[STAT_WEAPONS] &= ~( 1 << client->ps.weapon );
	client->ps.weapon = WP_MACHINEGUN;
	for ( i = WP_NUM_WEAPONS - 1 ; i > 0 ; i-- ) {
		if ( client->ps.stats[STAT_WEAPONS] & ( 1 << i ) ) {
			client->ps.weapon = i;
			break;
		}
	}

	xr_drop= dropWeapon( ent, xr_item, 0, FL_DROPPED_ITEM | FL_THROWN_ITEM );
	if( amount != 0)
		xr_drop->count= amount;
	else
		xr_drop->count= -1; // XRAY FMJ 0 is already taken, -1 means no ammo
}
</font>
</pre></font>

<P>This function finds out what weapon the player is carrying
and it removes the weapon and its ammo from the players inventory,
if it isn't the gauntlet, the machinegun, or grapple.
It also makes sure the player is not firing.

<p>Then the function calls dropWeapon() with the chosen weapon.
dropWeapon() returns the new entity and we can set the amount of ammo a player
gets if he picks the weapon up again.

<P>Save and close g_active.c.

<font color="#E07F44"><H4>
2.3 g_items.c, about line 401
</H4></font>

<p>Find the function LaunchItem() in g_items.c, now add "int xr_flags" to the parameter list:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
gentity_t *LaunchItem( gitem_t *item, vec3_t origin, vec3_t velocity <font color="#ff6060">, int xr_flags</font> ) {  <font color="#ff6060">// XRAY FMJ </font>
</pre>
</font>


<P>now replace the line: dropped->flags = FL_DROPPED_ITEM; with these lines at about 434:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
dropped->flags = <font color="#ff6060"> xr_flags; // FL_DROPPED_ITEM; // XRAY FMJ FL_THROWN_ITEM

if( xr_flags & FL_THROWN_ITEM) {
    dropped->clipmask = MASK_SHOT; // XRAY FMJ
    dropped->s.pos.trTime = level.time - 50;	// move a bit on the very first frame
    VectorScale( velocity, 500, dropped->s.pos.trDelta ); // 700
    SnapVector( dropped->s.pos.trDelta );		// save net bandwidth
    dropped->physicsBounce= 0.65;
}
</font>
</pre>
</font>

<P>If the weapon has the dropped flag, the function now sets some special entity values
borrowed from the grenade_launcher function in g_weapon.c.
If you think about it, a flying grenade and a dropped weapon are pretty similar
at least from a programmers point of view :P

<p>But this alone did not work nice... there was no arch and the dropped
weapon almost immediately stopped flying.
I had a hard time solving the problem until I found the physicsBounce property.
The value is a float from 0 to 1 and it determines how long the dropped item will bounce.

<p>Now the problem was that new entities always spawn with physicsBounce= 0.
So we need to set this to a more appropriate value !
Well as you can see I use 0.65 wich looks pretty nice.
Set it to 1 and it will bounce <B>very</B> long :)

<P>Additionally the VectorScale() function sets the overall flying speed
of the dropped weapon or item. You can also change this if you like.

<font color="#E07F44"><H4>
g_items.c, about line 469
</H4></font>


<p>Since we changed the parameter list of LaunchItem() we need to change the function call to it too !
The function got called only by dropItem() before, take a look at line 469.
Change the call so it looks like this:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
return LaunchItem( item, ent->s.pos.trBase, velocity<font color="#ff6060">, FL_DROPPED_ITEM</font>);
</pre></font>

<P>Now paste the function dropWeapon() right after our modified function LaunchItem() :

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
<font color="#ff6060">
/*
================
dropWeapon XRAY FMJ
================
*/
gentity_t *dropWeapon( gentity_t *ent, gitem_t *item, float angle, int xr_flags ) { // XRAY FMJ
	vec3_t	velocity;
	vec3_t	origin;

	VectorCopy( ent->s.pos.trBase, origin );

	// set aiming directions
	AngleVectors (ent->client->ps.viewangles, velocity, NULL, NULL);

	origin[2] += ent->client->ps.viewheight;
	VectorMA( origin, 34, velocity, origin ); // 14
	// snap to integer coordinates for more efficient network bandwidth usage
	SnapVector( origin);

	// extra vertical velocity
	velocity[2] += 0.2;
	VectorNormalize( velocity );
	return LaunchItem( item, origin, velocity, xr_flags );
}
</font>
</pre>
</font>


<P>This function gets called from our ThrowWeapon() function and then calls LaunchItem() itself.
What this fuction does is it calculates the exact spawnpoint ( which is the muzzlepoint here btw)
and the direction the player is viewing, which will become the flying direction for the weapon
(the var is called velocity).

<P>We're almost through ! :)

<font color="#E07F44"><H4>
2.4 g_cmds.c, about line 1030
</H4></font>

<p>Add this function in g_cmds.c:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
<font color="#ff6060">
/*
=================
Cmd_Drop_f XRAY FMJ
=================
*/
void Cmd_Drop_f( gentity_t *ent ) {
	ThrowWeapon( ent );
}
</font>
/*
=================
ClientCommand
=================
*/
</pre>
</font>

<P>This function only calls ThrowWeapon() and follows the programming style of id soft.

<font color="#E07F44"><H4>
<P>g_cmds.c, about line 1109:
</H4></font>

<p>Now near the end of g_cmds.c add our new command
to the function ClientCommand():

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
else if (Q_stricmp (cmd, "setviewpos") == 0)
    Cmd_SetViewpos_f( ent );<font color="#ff6060">
else if (Q_stricmp (cmd, "drop") == 0)  // XRAY FMJ
    Cmd_Drop_f( ent );</font>
else
    trap_SendServerCommand( clientNum, va("print \"unknown cmd %s\n\"", cmd ) );
</pre>
</font>

<P>ClientCommand() compares a user-consolecommand to all available commands
and if it finds the command it calls its appropriate function.

<font color="#E07F44"><H4>
2.5 cg_consolecmds.c, about line 207
</H4></font>

<p>Search for the function CG_InitConsoleCommands( void ) in cg_consolecmds.c
then add this line to the end of the list:

<font face="Verdana, Arial" size="3" color="#ffffcc">
<pre>
<font color="#ff6060">trap_AddCommand ("drop");	// XRAY FMJ weap drop cmd
</font>
</pre>
</font>

<P>This line registers the "drop" command so it will be tab completable.
Be aware that this line doesn't add very much functionality
but requires you to compile and publish your cgame.qvm together with your
qagame.qvm.
<p>So you might want to leave it out, weapon dropping will work fine
without it :)


<font color="#E07F44"><H4>
3. General Explanation
</H4></font>

<p>Basically I combined the functions that get called when a player dies
and looses all his powerups and chosen weapon, and the function
that gets called when you use the grenade launcher.

<P>First a player uses the "drop" command, this action calls Cmd_Drop_f().
Now in this order the functions ThrowWeapon(), dropWeapon() and finally LaunchItem() get called.
LauchItem() returns the new entity so it can be additionally modified,
which happens back in ThrowWeapon().

<P>From now on the functions G_RunItem() and G_BounceItem() in g_items.c
take over the control over our dropped weapon ( and every item btw )
and this is also the place were the "physicsBounce" value is so important.
You may want to read through these functions to understand
the behaviour of dropped and other items a little more.


<font color="#E07F44"><H4>
4. Using the new feature
</H4></font>

<p>This is the easy part, just bind a key to the command "drop" in the console like this:
<p>bind q drop

<font color="#E07F44"><H4>
5. Customizing the functions
</H4></font>

<p>There are several ways to change the behaviour of the dropped weapon, the main ways are:

<ul>
<li>physicsBounce: the higher the value the longer the weapon will bounce.</li>
<li>VectorScale( velocity, 500, dropped->s.pos.trDelta ), here 500 is the initial speed of the dropped weapon.</li>
<li>velocity[2] += 0.2, a larger value makes the weapon fly higher.</li>
<li>dropped->nextthink = level.time + 30000; (g_items.c - line 431)
sets the time in milliseconds the dropped weapon will stay in
the level.
</li>
</ul>

<P> And you can also change the name of the command to whatever you like,
just check that you don't use names that are already taken by the game.

<P>Well thats all and you made it. Build your qagame.qvm file and have some fun !

<font color="#E07F44"><H4>
Contact Information:
</H4></font>

<P>If there is demand I will add an ammo and item-dropping tutorial,
but you should be able to build them by yourself now, because
its pretty similar to weapon dropping.
Just copy and paste the throwWeapon() function in g_active two times
and rename and change the settings accordingly, also add two more commands in g_cmds.c
and cg_consolecmds.c.
<p>If you experience problems feel free to email me.

<P><A HREF="http://www.quake3mods.net/fmj/">http://www.quake3mods.net/fmj/</A>
- the mod I made weapon dropping for: Full Metal Jacket.
<BR><A HREF="http://www.planetstealth.de">http://www.planetstealth.de</A> - my clan and my Q3dominator mod.
<BR>I will upload a teamplay mod with weapon dropping there shortly.

<P>If you use this code I would appreciate a link to your mod.
Please give credit where credit is due.

<P>Ray, <a href="mailto:paranoid@planetstealth.de">[SuB]paranoid</A>

      <p>
    </td>
  </tr>
</table>
	<!-- END MAIN TABLE -->

  </tr>
</table>
<p>

	<!-- BEGIN BOTTOM HEIRARCHY -->
<table width="100%" cellpadding=0 cellspacing=0 border=0 bgcolor="#000000">
  <tr>
    <td><img src="/code3arena/images/ouricon.gif"></td>
    <td width="100%" bgcolor=#000000>
	<font face="Verdana, Arial" size="2" color="#eeeeee"><b>
	<A HREF="http://www.planetquake.com">PlanetQuake</A> |
	<A HREF="http://www.planetquake.com/code3arena">Code3Arena</A> |
	<A HREF="http://www.planetquake.com/code3arena/tutorials">Tutorials</A> |
	<a href="tutorial21.shtml"><< Prev</a> |
	Tutorial 22 |
	<a href="tutorial23.shtml">Next >></a>
	</b></font>
    </td>
  </tr>
</table>
<p>
	<!-- END BOTOTM HEIRARCHY -->

</body>
</html>
